(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={"weather-article":"SideBar_weather-article__2vuct","weather-article__tempIcon":"SideBar_weather-article__tempIcon__mZZQ_","weather-article__icon":"SideBar_weather-article__icon__UlmTA","weather-article__details":"SideBar_weather-article__details__28fTt","weather-article__detailsInfo":"SideBar_weather-article__detailsInfo__C9rfL","weather-article__source":"SideBar_weather-article__source__257pN","polution-article":"SideBar_polution-article__oimR7","polution-article__heading":"SideBar_polution-article__heading__2begk","polution-article__detailsInfo":"SideBar_polution-article__detailsInfo__2fh3F","polution-article__airindex":"SideBar_polution-article__airindex__1ZZim","polution-article__source":"SideBar_polution-article__source__1MM_S","breaking-article":"SideBar_breaking-article__25pCN","breaking-article__heading":"SideBar_breaking-article__heading__2u5Tp","breaking-article__info":"SideBar_breaking-article__info__1Nsxv"}},function(e,t,n){e.exports={"add-news__form":"AddNews_add-news__form__2K2-3","msg-error":"AddNews_msg-error__1Q_e9",invalid:"AddNews_invalid__3lxDg","input-message":"AddNews_input-message__1YoLq"}},function(e,t,n){e.exports={"single-news__article":"SingleNews_single-news__article__11W9P","single-news__image":"SingleNews_single-news__image__1gxrO","single-news__title":"SingleNews_single-news__title__30zw7","single-news__info":"SingleNews_single-news__info__k2OOj","single-news__text":"SingleNews_single-news__text___UTar","single-news__likes":"SingleNews_single-news__likes___MtrK",like:"SingleNews_like__3zn54",dislike:"SingleNews_dislike__wE4iF","single-news__comments":"SingleNews_single-news__comments__L6v24","single-news__allComents":"SingleNews_single-news__allComents__rREyb","add-comment":"SingleNews_add-comment__2BuZp",message:"SingleNews_message__2VgZn"}},,,,function(e,t,n){e.exports={"register-form":"RegisterForm_register-form__1zWJ9","msg-error":"RegisterForm_msg-error__1upVU",invalid:"RegisterForm_invalid__3hZWQ","input-message":"RegisterForm_input-message__16bzk"}},function(e,t,n){e.exports={"news-article":"News_news-article__1pi7H","img-handler":"News_img-handler__1S89n","news-text":"News_news-text__2VkJR","news-text__info":"News_news-text__info__piH0h"}},,function(e,t,n){e.exports={"login-form":"LoginForm_login-form__30TCa","msg-error":"LoginForm_msg-error__gq-pX",invalid:"LoginForm_invalid__2UqfS","input-message":"LoginForm_input-message__2jc8Z"}},,function(e,t,n){e.exports={main:"MainPage_main__etlkD","main-section":"MainPage_main-section__1MA7B","main-aside":"MainPage_main-aside__3vFpW"}},function(e,t,n){e.exports={footer:"Footer_footer__2_fNq","footer-info":"Footer_footer-info__D-IXs",github:"Footer_github__3KLfS",linkedin:"Footer_linkedin__3ff7b",website:"Footer_website__VxLZk"}},,,function(e,t,n){e.exports={nav:"BottomNav_nav__1lHka",nav__menu:"BottomNav_nav__menu__3l4hA","active-route":"BottomNav_active-route__agInp"}},function(e,t,n){e.exports={"user-button__wrapper":"User_user-button__wrapper__22L2V","user-button":"User_user-button__25yPK",active:"User_active__1IeVp","dropdown-list":"User_dropdown-list__3ehmz"}},function(e,t,n){e.exports={header:"TopNav_header__yW6Rl",header__wrapper:"TopNav_header__wrapper__wCiXd","active-route":"TopNav_active-route__13NSC"}},function(e,t,n){e.exports={modal:"ModalOverlay_modal__2PbIu","modal-heading":"ModalOverlay_modal-heading__h74XM","modal-body":"ModalOverlay_modal-body__Zch5T",timesCircle:"ModalOverlay_timesCircle__1-hMx"}},,,,function(e,t,n){e.exports={"spin-wrapper":"Spinner_spin-wrapper__21sLt",spin:"Spinner_spin__1Orwz"}},function(e,t,n){e.exports={"comments-aticle":"Comments_comments-aticle__fazn-"}},,,,,function(e,t,n){e.exports={backdrop:"ModalBackdrop_backdrop__1hWw8"}},function(e,t,n){e.exports={logs__form:"Logs_logs__form__2mx7O"}},,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(24),c=n.n(r),i=n(7),o=n(8),l="https://borisperkovic.rs/news-app/Services/singleNews.service.php",u="https://borisperkovic.rs/news-app/Services/comments.service.php",j="https://borisperkovic.rs/news-app/Services/commentsAdmin.service.php",d=["politics","world","sport","bussines","it","chronicles"],p=["addcomment.txt","addNews.txt","login.txt","registration.txt","allowDissalowComents.txt","editNews.txt","deleteNews.txt"],b=n(25),h=n.n(b),m=n(0),O=function(){return Object(m.jsx)("nav",{className:h.a.nav,children:Object(m.jsx)("div",{className:"container ".concat(h.a.nav__menu),children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(i.c,{activeClassName:h.a["active-route"],exact:!0,to:"/news-app",children:"HEADLINES"})}),d.map((function(e,t){return Object(m.jsx)("li",{children:Object(m.jsx)(i.c,{activeClassName:h.a["active-route"],to:"/news-app/category/".concat(e),children:e})},t)}))]})})})},x=n(3),f=n(5),w=n(6),g=new(function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getToken",value:function(){return!!localStorage.getItem("token")}},{key:"isTokenExpired",value:function(e){if("Unauthorized"===e.statusText)return alert("Your access token has expired, please log in."),window.location.assign("https://borisperkovic.github.io/news-app/login"),!0}}]),e}()),v=n(26),_=n.n(v),k=function(e){var t=e.user,n=e.removeLoginParams,s=Object(a.useState)(!1),r=Object(x.a)(s,2),c=r[0],o=r[1],l=function(){o(!c)};return Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)("div",{className:_.a["user-button__wrapper"],children:[Object(m.jsxs)("button",{className:"".concat(_.a["user-button"]," ").concat(c?_.a.active:""," "),onClick:l,children:["Welcome, ",t.name,"  ",c?Object(m.jsx)("i",{className:"fas fa-caret-up"}):Object(m.jsx)("i",{className:"fas fa-caret-down"})]}),c&&Object(m.jsxs)("ul",{className:_.a["dropdown-list"],children:[Object(m.jsx)("li",{onClick:l,children:Object(m.jsx)(i.b,{to:"/news-app/add-news",children:"Add News"})}),Object(m.jsx)("li",{onClick:l,children:Object(m.jsx)(i.b,{to:"/news-app/edit-news",children:"Edit news"})}),Object(m.jsx)("li",{onClick:l,children:Object(m.jsx)(i.b,{to:"/news-app/remove-news",children:"Remove News"})}),Object(m.jsx)("li",{onClick:l,children:Object(m.jsx)(i.b,{to:"/news-app/comments",children:"Comments"})}),Object(m.jsx)("li",{onClick:l,children:Object(m.jsx)(i.b,{to:"/news-app/logs",children:"Logs"})}),Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:"/news-app/headlines",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),n(!1)},children:"Log Out"})})]})]})})},N=n(27),S=n.n(N),y=function(){var e=Object(a.useState)(!0),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(o.f)(),c=g.getToken();c||r.push("/news-app");var l=JSON.parse(localStorage.getItem("user"));return Object(m.jsx)("header",{className:S.a.header,children:Object(m.jsxs)("div",{className:"container ".concat(S.a.header__wrapper),children:[Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"No LIES"})}),Object(m.jsxs)("div",{children:[c&&n&&Object(m.jsx)(k,{user:l,removeLoginParams:function(e){s(e)}}),!c&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.c,{activeClassName:S.a["active-route"],exact:!0,to:"/news-app/login",children:"Log In"}),Object(m.jsx)(i.c,{activeClassName:S.a["active-route"],to:"/news-app/registration",children:"Register"})]})]})]})})},I=n(2),C=n.n(I),P=n(4),T=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"requestHeadlines",value:function(){var e=Object(P.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://borisperkovic.rs/news-app/Services/headlines.service.php");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),F=new T,V=n(32),L=n.n(V),B=function(){return Object(m.jsx)("div",{className:L.a["spin-wrapper"],children:Object(m.jsx)("div",{className:L.a.spin})})},E=n(37),A=n.n(E),R=function(e){var t=A()(e).format("DD.MM.YYYY HH:mm");return"".concat(t,"h")},D=n(17),M=n.n(D),z=function(e){var t=e.news;return Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)("article",{className:M.a["news-article"],children:[Object(m.jsx)("div",{className:M.a["img-handler"],children:Object(m.jsx)("img",{src:t.news_image,alt:"someImg"})}),Object(m.jsxs)("div",{className:M.a["news-text"],children:[Object(m.jsx)(i.b,{to:"/news-app/single-news/".concat(t.id),children:Object(m.jsxs)("h2",{children:[t.news_text.replace("|","'").slice(0,150)," ..."]})}),Object(m.jsxs)("p",{className:M.a["news-text__info"],children:[" ",Object(m.jsx)(i.b,{to:"/news-app/category/".concat(t.news_category),children:t.news_category}),"  ",R(t.news_created)]})]})]})})},U=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!0),c=Object(x.a)(r,2),i=c[0],o=c[1],l=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.requestHeadlines();case 2:t=e.sent,s(t),o(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),Object(m.jsxs)(a.Fragment,{children:[i&&Object(m.jsx)(B,{}),!i&&n.map((function(e){return Object(m.jsx)(z,{news:e},e.id)}))]})},q=function(){return Object(m.jsx)(U,{})},J=function(){function e(t,n,a,s,r){Object(f.a)(this,e),this.name=t,this.lastname=n,this.email=a,this.password=s,this.repeatPassword=r}return Object(w.a)(e,[{key:"nameIsValid",value:function(){return""!==this.name.trim()}},{key:"lastnameIsValid",value:function(){return""!==this.lastname.trim()}},{key:"emailIsValid",value:function(){return""!==this.email.trim()&&this.email.includes("@")}},{key:"passwordIsValid",value:function(){return""!==this.password.trim()}},{key:"repeatPasswordIsValid",value:function(){return""!==this.repeatPassword.trim()&&this.repeatPassword===this.password}},{key:"formIsValid",value:function(){return this.nameIsValid()&&this.lastnameIsValid()&&this.emailIsValid()&&this.passwordIsValid()&&this.repeatPasswordIsValid()}}]),e}(),W=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"requestRegister",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n,a,s,r,c,i,o){var l,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({name:s,lastname:r,email:c,password:i,re_password:o})},n(!0),e.next=4,fetch("https://borisperkovic.rs/news-app/Services/register.service.php",l);case 4:return u=e.sent,e.next=7,u.json();case 7:"User exists"===e.sent?(n(!1),a("User with E-mail address "+c+" already exists!")):(n(!1),t(!0));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,s,r,c,i,o){return e.apply(this,arguments)}}()}]),e}(),Y=new W,H=n(28),Z=n.n(H),X=function(e){var t=e.onClose;return Object(m.jsxs)("div",{className:Z.a.modal,children:[Object(m.jsxs)("div",{className:Z.a["modal-heading"],children:[Object(m.jsx)("h2",{children:"Registration Complete!"}),Object(m.jsx)("p",{children:Object(m.jsx)("i",{className:"fas fa-times-circle ".concat(Z.a.timesCircle),onClick:function(){return t(!1),!1}})})]}),Object(m.jsx)("div",{className:Z.a["modal-body"],children:Object(m.jsx)("p",{children:"You have successfully registered. Each registered user has all the privileges to use this application. In production, of course, things would be different, but for the purposes of this exercise, privileges are granted to each user. After you close this modal window, you will be redirected to the home page. Now, you can log in and to feel free to play around with this app. Have fun."})})]})},K=n(38),Q=n.n(K),G=function(e){var t=e.onClose;return Object(m.jsx)("div",{className:Q.a.backdrop,onClick:function(){return t(!1),!1}})},$=function(e){return Object(m.jsxs)(a.Fragment,{children:[c.a.createPortal(Object(m.jsx)(G,{onClose:e.onClose}),document.getElementById("backdrop-root")),c.a.createPortal(Object(m.jsx)(X,{onClose:e.onClose}),document.getElementById("modal-overlay"))]})},ee=n(16),te=n.n(ee),ne=function(){var e=Object(a.useState)({name:!0,lastname:!0,email:!0,password:!0,repeatPassword:!0}),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(x.a)(r,2),i=c[0],l=c[1],u=Object(a.useState)(!1),j=Object(x.a)(u,2),d=j[0],p=j[1],b=Object(a.useState)(!1),h=Object(x.a)(b,2),O=h[0],f=h[1],w=Object(o.f)(),g=Object(a.useRef)(),v=Object(a.useRef)(),_=Object(a.useRef)(),k=Object(a.useRef)(),N=Object(a.useRef)();return Object(m.jsxs)(a.Fragment,{children:[d&&Object(m.jsx)($,{onClose:function(){w.push("/news-app")}}),Object(m.jsxs)("article",{className:te.a["register-form"],children:[Object(m.jsx)("h2",{children:"Registration"}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l("");var t=g.current.value,n=v.current.value,a=_.current.value,r=k.current.value,c=N.current.value,i=new J(t,n,a,r,c);s({name:i.nameIsValid(),lastname:i.lastnameIsValid(),email:i.emailIsValid(),password:i.passwordIsValid(),repeatPassword:i.repeatPasswordIsValid()}),i.formIsValid()&&Y.requestRegister(p,f,l,t,n,a,r,c)},children:[Object(m.jsxs)("div",{className:n.name?"":te.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name"}),Object(m.jsx)("input",{type:"text",id:"name",ref:g}),!n.name&&Object(m.jsx)("div",{className:te.a["input-message"],children:"Please, provide valid name"})]}),Object(m.jsxs)("div",{className:n.lastname?"":te.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"lastname",children:"Lastname"}),Object(m.jsx)("input",{type:"text",id:"lastname",ref:v}),!n.lastname&&Object(m.jsx)("div",{className:te.a["input-message"],children:"Please, provide valid lastname"})]}),Object(m.jsxs)("div",{className:n.email?"":te.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"email",children:"E-mail"}),Object(m.jsx)("input",{type:"email",id:"email",ref:_}),!n.email&&Object(m.jsx)("div",{className:te.a["input-message"],children:"Please, provide valid email address"})]}),Object(m.jsxs)("div",{className:n.password?"":te.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",id:"password",ref:k}),!n.password&&Object(m.jsx)("div",{className:te.a["input-message"],children:"Please, provide valid password"})]}),Object(m.jsxs)("div",{className:n.repeatPassword?"":te.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"re-password",children:"Repeat password"}),Object(m.jsx)("input",{type:"password",id:"re-password",ref:N}),!n.repeatPassword&&Object(m.jsx)("div",{className:te.a["input-message"],children:"Please, password and repeat password are not match"})]}),Object(m.jsxs)("div",{className:O?"":te.a["msg-error"],children:[O&&Object(m.jsx)(B,{}),Object(m.jsx)("p",{children:i})]}),Object(m.jsx)("button",{children:"SUBMIT"})]})]})]})},ae=function(){function e(t,n){Object(f.a)(this,e),this.email=t,this.password=n}return Object(w.a)(e,[{key:"emailIsValid",value:function(){return""!==this.email.trim()&&this.email.includes("@")}},{key:"passwordIsValid",value:function(){return""!==this.password.trim()}},{key:"formIsValid",value:function(){return this.emailIsValid()&&this.passwordIsValid()}}]),e}(),se=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"requestLogin",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n,a,s){var r,c,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({email:a,password:s})},t(!0),e.next=4,fetch("https://borisperkovic.rs/news-app/Services/login.service.php",r);case 4:return c=e.sent,e.next=7,c.json();case 7:"Cannot find user"===(i=e.sent)||"Incorrect password"===i?(t(!1),n("Email or password are not correct!")):(t(!1),localStorage.setItem("token",i.accessToken),localStorage.setItem("user",JSON.stringify({name:i.users_name,lastname:i.users_lastname,email:i.users_email})),window.location.assign("https://borisperkovic.github.io/news-app"));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}()}]),e}(),re=new se,ce=n(19),ie=n.n(ce),oe=function(){var e=Object(a.useState)({email:!0,password:!0}),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(!1),u=Object(x.a)(l,2),j=u[0],d=u[1],p=Object(a.useRef)(),b=Object(a.useRef)();return Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)("article",{className:ie.a["login-form"],children:[Object(m.jsx)("h2",{children:"Log In"}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o("");var t=p.current.value,n=b.current.value,a=new ae(t,n);s({email:a.emailIsValid(),password:a.passwordIsValid()}),a.formIsValid()&&re.requestLogin(d,o,t,n)},children:[Object(m.jsxs)("div",{className:n.email?"":ie.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"email",children:"E-mail"}),Object(m.jsx)("input",{type:"email",id:"email",ref:p}),!n.email&&Object(m.jsx)("div",{className:ie.a["input-message"],children:"Please, provide valid email address"})]}),Object(m.jsxs)("div",{className:n.password?"":ie.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",id:"password",ref:b}),!n.password&&Object(m.jsx)("div",{className:ie.a["input-message"],children:"Please, provide valid password"})]}),Object(m.jsxs)("div",{className:j?"":ie.a["msg-error"],children:[j&&Object(m.jsx)(B,{}),Object(m.jsx)("p",{children:i})]}),Object(m.jsx)("button",{children:"SUBMIT"})]})]})})},le=function(){function e(t,n,a,s){Object(f.a)(this,e),this.title=t,this.text=n,this.category=a,this.image=s}return Object(w.a)(e,[{key:"titleIsValid",value:function(){return""!==this.title.trim()}},{key:"textIsValid",value:function(){return""!==this.text.trim()}},{key:"categoryIsValid",value:function(){return"0"!==this.category}},{key:"imageIsValid",value:function(){return""!==this.image}},{key:"formIsValid",value:function(){return this.titleIsValid()&&this.textIsValid()&&this.categoryIsValid()&&this.imageIsValid()}}]),e}(),ue=n(11),je=n.n(ue),de=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"requestAddNews",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n,a){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.getToken()){e.next=7;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 7:t(!0),(s=new XMLHttpRequest).open("POST","https://borisperkovic.rs/news-app/Services/addNews.service.php",!0),s.onload=function(){"Unauthorized"===JSON.parse(this.responseText)&&(alert("Something went wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login")),t(!1),n(JSON.parse(this.responseText))},s.send(a);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),pe=new de,be=function(){var e=Object(a.useState)(""),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)("0"),u=Object(x.a)(l,2),j=u[0],p=u[1],b=Object(a.useState)(""),h=Object(x.a)(b,2),O=h[0],f=h[1],w=Object(a.useState)(""),g=Object(x.a)(w,2),v=g[0],_=g[1],k=Object(a.useState)(!1),N=Object(x.a)(k,2),S=N[0],y=N[1],I=Object(a.useState)({title:!0,text:!0,category:!0,image:!0}),C=Object(x.a)(I,2),P=C[0],T=C[1];return Object(m.jsxs)("article",{className:je.a["add-news__form"],children:[Object(m.jsx)("h2",{children:"Add News Section"}),Object(m.jsxs)("form",{encType:"multipart/form-data",children:[Object(m.jsxs)("div",{className:P.title?"":je.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"title",children:"News Title"}),Object(m.jsx)("input",{type:"text",id:"title",value:n,onChange:function(e){s(e.target.value)}}),!P.title&&Object(m.jsx)("div",{className:je.a["input-message"],children:"Please, provide valid news title"})]}),Object(m.jsxs)("div",{className:P.text?"":je.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"newstext",children:"News Text"}),Object(m.jsx)("textarea",{type:"text",id:"newstext",value:i,onChange:function(e){o(e.target.value)}}),!P.text&&Object(m.jsx)("div",{className:je.a["input-message"],children:"Please, provide valid news text"})]}),Object(m.jsxs)("div",{className:P.category?"":je.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"category",children:"News Category"}),Object(m.jsxs)("select",{id:"inputGroupSelect02",onChange:function(e){p(e.target.value)},children:[Object(m.jsx)("option",{value:"0",children:"Select Category"}),d.map((function(e,t){return Object(m.jsx)("option",{value:t+1,children:e},t+1)}))]}),!P.category&&Object(m.jsx)("div",{className:je.a["input-message"],children:"Please, select category"})]}),Object(m.jsxs)("div",{className:P.image?"":je.a.invalid,children:[Object(m.jsx)("label",{htmlFor:"image",children:"News Image"}),Object(m.jsx)("input",{type:"file",id:"img",name:"image",onChange:function(e){return function(e){f(e.target.files[0])}(e)}}),!P.image&&Object(m.jsx)("div",{className:je.a["input-message"],children:"Please, provide valid image for news"})]}),Object(m.jsxs)("div",{className:S?"":je.a["msg-error"],children:[S&&Object(m.jsx)(B,{}),Object(m.jsx)("p",{children:v})]}),Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),_("");var t=new le(n,i,j,O);if(T({title:t.titleIsValid(),text:t.textIsValid(),category:t.categoryIsValid(),image:t.imageIsValid()}),t.formIsValid()){var a=new FormData;a.append("title",n),a.append("text",i),a.append("category",j),a.append("image",O),a.append("token",localStorage.getItem("token")),pe.requestAddNews(y,_,a),s(""),o(""),p("0"),f("")}},children:"SUBMIT"})]})]})},he=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getNewsList",value:function(){var e=Object(P.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://borisperkovic.rs/news-app/Services/newsByCategory.service.php?category="+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),me=new he,Oe=function(e){var t=e.news;return Object(m.jsxs)("article",{className:M.a["news-article"],children:[Object(m.jsx)("div",{className:M.a["img-handler"],children:Object(m.jsx)("img",{src:t.news_image,alt:"someImg"})}),Object(m.jsxs)("div",{className:M.a["news-text"],children:[Object(m.jsx)(i.b,{to:"/news-app/single-news/".concat(t.id),children:Object(m.jsxs)("h2",{children:[t.news_text.replace("|","'").slice(0,150)," ..."]})}),Object(m.jsxs)("p",{className:M.a["news-text__info"],children:[" ",Object(m.jsx)(i.b,{to:"/news-app/category/".concat(t.news_category),children:t.news_category})," ",R(t.news_created)]})]})]})},xe=n(21),fe=n.n(xe),we=function(e){var t=Object(a.useState)([]),n=Object(x.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(e.match.params.category),i=Object(x.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(!0),j=Object(x.a)(u,2),d=j[0],p=j[1];Object(a.useEffect)((function(){l(e.match.params.category)}),[e.match.params.category]);var b=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getNewsList(o);case 2:t=e.sent,r(t),p(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b(s)}),[o]),Object(m.jsxs)(a.Fragment,{children:[d&&Object(m.jsx)(B,{}),Object(m.jsx)("main",{className:fe.a.main,children:Object(m.jsx)("section",{className:fe.a["main-section"],children:!d&&s.map((function(e){return Object(m.jsx)(Oe,{news:e},e.id)}))})})]})},ge=function(){function e(t,n){Object(f.a)(this,e),this.user=t,this.text=n}return Object(w.a)(e,[{key:"userIsValid",value:function(){return""!==this.user.trim()}},{key:"textIsValid",value:function(){return""!==this.text.trim()}},{key:"formIsValid",value:function(){return this.userIsValid()&&this.textIsValid()}}]),e}(),ve=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"comments",value:function(){var e=Object(P.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"?comments="+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addComments",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n){var a,s,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({payload:n})},e.next=3,fetch(u+"?comments=add",a);case 3:return s=e.sent,e.next=6,s.json();case 6:return r=e.sent,e.abrupt("return",t(r));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"likeDislikeComment",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"?comments=").concat(t,"&id=").concat(n));case 2:return a=e.sent,e.next=5,a.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),_e=new ve,ke=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getSingleNews",value:function(){var e=Object(P.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(l+"?news="+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"likeDislikeNews",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l,"?news=").concat(t,"&id=").concat(n));case 2:return a=e.sent,e.next=5,a.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ne=new ke,Se=n(12),ye=n.n(Se),Ie=function(e){var t=e.comments,n=Object(a.useState)(t.likes),s=Object(x.a)(n,2),r=s[0],c=s[1],i=Object(a.useState)(t.dislikes),o=Object(x.a)(i,2),l=o[0],u=o[1],j=function(e){"like"===e?c(parseInt(r)+1):u(parseInt(l)+1),_e.likeDislikeComment(e,t.id)};return Object(m.jsxs)(a.Fragment,{children:[t===JSON.parse(0)&&Object(m.jsx)("div",{className:ye.a["single-news__allComents"],children:Object(m.jsx)("p",{children:"This News Have No Comments. Be First And Comment It."})}),t!==JSON.parse(0)&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:ye.a["single-news__allComents"],children:[Object(m.jsxs)("p",{children:[t.comment_author," ",R(t.comment_created)]}),Object(m.jsx)("p",{children:t.comment_text}),Object(m.jsxs)("p",{children:[Object(m.jsx)("i",{className:"fas fa-thumbs-up ".concat(ye.a.like),onClick:function(){return j("like")}})," ",r," \xa0\xa0",Object(m.jsx)("i",{className:"fas fa-thumbs-down ".concat(ye.a.dislike),onClick:function(){return j("dislike")}})," ",l]})]},t.id)})]})},Ce=function(e){var t=Object(a.useState)({}),n=Object(x.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)([]),i=Object(x.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(""),j=Object(x.a)(u,2),d=j[0],p=j[1],b=Object(a.useState)(""),h=Object(x.a)(b,2),O=h[0],f=h[1],w=Object(a.useState)(""),g=Object(x.a)(w,2),v=g[0],_=g[1],k=Object(a.useState)(""),N=Object(x.a)(k,2),S=N[0],y=N[1],I=Object(a.useState)(""),T=Object(x.a)(I,2),F=T[0],V=T[1],L=Object(a.useState)(!0),E=Object(x.a)(L,2),A=E[0],D=E[1],M=Object(a.useState)(!1),z=Object(x.a)(M,2),U=z[0],q=z[1],J=function(){var t=Object(P.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne.getSingleNews(e.match.params.id);case 2:n=t.sent,r(n),y(n[0].likes),V(n[0].dislikes),D(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var t=Object(P.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.comments(e.match.params.id);case 2:n=t.sent,l(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){J(),W()}),[e.match.params.id]);var Y=function(t){"like"===t?y(parseInt(S)+1):V(parseInt(F)+1),Ne.likeDislikeNews(t,e.match.params.id)};return Object(m.jsx)("main",{className:fe.a.main,children:Object(m.jsxs)("section",{className:fe.a["main-section"],children:[A&&Object(m.jsx)(B,{}),!A&&Object(m.jsxs)("article",{className:ye.a["single-news__article"],children:[Object(m.jsx)("div",{className:ye.a["single-news__image"],children:Object(m.jsx)("img",{src:s[0].news_image,alt:"SingleNews"})}),Object(m.jsxs)("div",{className:ye.a["single-news__title"],children:[Object(m.jsx)("h2",{children:s[0].news_title.replace("|","'")}),Object(m.jsxs)("div",{className:ye.a["single-news__info"],children:[Object(m.jsxs)("p",{children:["Author: ",Object(m.jsx)("strong",{children:s[0].author})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("i",{className:"far fa-clock"})," ",R(s[0].news_created)]})]})]}),Object(m.jsx)("div",{className:ye.a["single-news__text"],children:Object(m.jsx)("p",{children:s[0].news_text.split("|").join("'")})}),Object(m.jsx)("div",{className:ye.a["single-news__likes"],children:Object(m.jsxs)("p",{children:[Object(m.jsx)("i",{className:"fas fa-thumbs-up ".concat(ye.a.like),onClick:function(){return Y("like")}})," ",S," \xa0\xa0",Object(m.jsx)("i",{className:"fas fa-thumbs-down ".concat(ye.a.dislike),onClick:function(){return Y("dislike")}})," ",F]})}),Object(m.jsxs)("div",{className:ye.a["single-news__comments"],children:[Object(m.jsxs)("p",{children:["Comments (",0===o?"0":o.length,")"]}),Object(m.jsx)("p",{onClick:function(){q(!U)},children:U?Object(m.jsx)("i",{className:"fas fa-chevron-up"}):Object(m.jsx)("i",{className:"fas fa-chevron-down"})})]}),U&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:ye.a["add-comment"],children:[Object(m.jsx)("h3",{children:"Add Comment"}),Object(m.jsxs)("span",{children:[Object(m.jsx)("strong",{children:"Notice:"})," comment will be posted after Admin approves it."]}),Object(m.jsx)("input",{type:"text",placeholder:"Username",value:d,onChange:function(e){p(e.target.value)}}),Object(m.jsx)("textarea",{name:"",id:"",cols:"20",rows:"5",placeholder:"Comment",value:O,onChange:function(e){f(e.target.value)}}),Object(m.jsx)("p",{className:ye.a.message,children:v}),Object(m.jsx)("button",{onClick:function(t){if(t.preventDefault(),_(""),new ge(d,O).formIsValid()){var n={user:d,text:O,news_id:e.match.params.id};_e.addComments(_,n),p(""),f("")}else _("All fields are required")},children:"Submit"})]}),0!==o&&o.map((function(e){return Object(m.jsx)(Ie,{comments:e},e.id)}))]})]})]})})},Pe=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getBreakingNews",value:function(){var e=Object(P.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://borisperkovic.rs/news-app/Services/breakingNews.service.php");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Te=new Pe,Fe=n(10),Ve=n.n(Fe),Le=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!0),c=Object(x.a)(r,2),o=c[0],l=c[1],u=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getBreakingNews();case 2:t=e.sent,s(t),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){u()}),[]),Object(m.jsxs)(a.Fragment,{children:[o&&Object(m.jsx)(B,{}),!o&&Object(m.jsxs)("article",{className:Ve.a["breaking-article"],children:[Object(m.jsx)("div",{className:Ve.a["breaking-article__heading"],children:Object(m.jsx)("p",{children:"BREAKING NEWS"})}),Object(m.jsx)("div",{className:Ve.a["breaking-article__info"],children:n.map((function(e){return Object(m.jsx)("p",{children:Object(m.jsxs)(i.b,{to:"/news-app/single-news/".concat(e.id),children:[R(e.news_created)," ",e.news_title.split("|").join("'")]})},e.id)}))})]})]})},Be=new(function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"createPolution",value:function(e){return{co:e.list[0].components.co,no2:e.list[0].components.no2,o3:e.list[0].components.o3,so2:e.list[0].components.so2,pm2_5:e.list[0].components.pm2_5,nh3:e.list[0].components.nh3}}}]),e}()),Ee=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getPolution",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.openweathermap.org/data/2.5/air_pollution?lat=".concat(t,"&lon=").concat(n,"&appid=9f73d0b517dd5faaf6212b9147e6f875"));case 2:return a=e.sent,e.next=5,a.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ae=new Ee,Re=function(){var e=Object(a.useState)({lat:44.787197,lng:20.457273}),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)({}),c=Object(x.a)(r,2),o=c[0],l=c[1],u=Object(a.useState)(!0),j=Object(x.a)(u,2),d=j[0],p=j[1],b=(new Date).toLocaleTimeString("sr-SR",{minutes:"2-digit"}),h=function(e){s({lat:e.coords.latitude,lng:e.coords.longitude})};Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition(h)}),[]);return Object(a.useEffect)((function(){var e=function(){var e=Object(P.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.getPolution(n.lat,n.lng);case 2:t=e.sent,a=Be.createPolution(t),l(a),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n.lat,n.lng]),Object(m.jsxs)(a.Fragment,{children:[d&&Object(m.jsx)(B,{}),!d&&Object(m.jsxs)("article",{className:Ve.a["polution-article"],children:[Object(m.jsx)("div",{className:Ve.a["polution-article__heading"],children:Object(m.jsx)("h2",{children:" Air Quality Index"})}),Object(m.jsxs)("div",{className:Ve.a["polution-article__detailsInfo"],children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"DETAILS"})}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:Ve.a["polution-article__airindex"],children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Carbon monoxide"}),Object(m.jsx)("p",{children:"Nitrogen dioxide"}),Object(m.jsx)("p",{children:"Ozone"}),Object(m.jsx)("p",{children:"Sulphur dioxide"}),Object(m.jsx)("p",{children:"Fine particles matter"}),Object(m.jsx)("p",{children:"Ammonia"})]}),Object(m.jsxs)("div",{className:Ve.a["polution-article__components"],children:[Object(m.jsx)("p",{children:Object(m.jsxs)("strong",{children:[o.co," \u03bcg/m3"]})}),Object(m.jsx)("p",{children:Object(m.jsxs)("strong",{children:[o.no2," \u03bcg/m3"]})}),Object(m.jsx)("p",{children:Object(m.jsxs)("strong",{children:[o.o3," \u03bcg/m3"]})}),Object(m.jsx)("p",{children:Object(m.jsxs)("strong",{children:[o.so2," \u03bcg/m3"]})}),Object(m.jsx)("p",{children:Object(m.jsxs)("strong",{children:[o.pm2_5," \u03bcg/m3"]})}),Object(m.jsx)("p",{children:Object(m.jsxs)("strong",{children:[o.nh3," \u03bcg/m3"]})})]})]})]}),Object(m.jsxs)("div",{className:Ve.a["polution-article__source"],children:[Object(m.jsxs)("p",{children:["Source: ",Object(m.jsx)(i.b,{to:{pathname:"https://openweathermap.org/"},target:"_blank",children:"OpenWeatherMap"})]}),Object(m.jsx)("p",{children:"".concat(b,"h")})]})]})]})},De=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getWeather",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n){var a,s,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=""!==t?t:"44.787197",s=""!==n?n:"20.457273",e.next=4,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(s,"&units=metric&appid=9f73d0b517dd5faaf6212b9147e6f875"));case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Me=new De,ze=new(function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"createWeather",value:function(e){return{name:e.name,country:e.sys.country,description:e.weather[0].description,icon:e.weather[0].icon,temperature:e.main.temp,feels_like:parseInt(e.main.feels_like),wind:e.wind.speed,humidity:e.main.humidity,pressure:e.main.pressure}}}]),e}()),Ue=function(){var e=Object(a.useState)({lat:44.787197,lng:20.457273}),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)({}),c=Object(x.a)(r,2),o=c[0],l=c[1],u=Object(a.useState)(!0),j=Object(x.a)(u,2),d=j[0],p=j[1],b=(new Date).toLocaleTimeString("sr-SR",{minutes:"2-digit"}),h=function(e){s({lat:e.coords.latitude,lng:e.coords.longitude})};Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition(h)}),[]);return Object(a.useEffect)((function(){var e=function(){var e=Object(P.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getWeather(n.lat,n.lng);case 2:t=e.sent,a=ze.createWeather(t),l(a),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n.lat,n.lng]),Object(m.jsxs)(a.Fragment,{children:[d&&Object(m.jsx)(B,{}),!d&&Object(m.jsxs)("article",{className:Ve.a["weather-article"],children:[Object(m.jsxs)("div",{className:Ve.a["weather-article__tempIcon"],children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"".concat(o.name,", ").concat(o.country)}),Object(m.jsx)("span",{children:o.description})]}),Object(m.jsx)("div",{className:Ve.a["weather-article__icon"],children:Object(m.jsx)("img",{src:"https://openweathermap.org/themes/openweathermap/assets/vendor/owm/img/widgets/".concat(o.icon,".png"),alt:o.name})})]}),Object(m.jsxs)("div",{className:Ve.a["weather-article__details"],children:[Object(m.jsx)("div",{children:Object(m.jsxs)("h2",{children:[parseInt(o.temperature)," \u2103"]})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"DETAILS"})}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:Ve.a["weather-article__detailsInfo"],children:[Object(m.jsxs)("p",{children:["Feels Like ",Object(m.jsx)("span",{children:Object(m.jsxs)("strong",{children:[parseInt(o.feels_like)," \u2103"]})})]}),Object(m.jsxs)("p",{children:["Wind \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(m.jsx)("span",{children:Object(m.jsxs)("strong",{children:[o.wind," m/s"]})})]}),Object(m.jsxs)("p",{children:["Humidity ",Object(m.jsx)("span",{children:Object(m.jsxs)("strong",{children:[o.humidity," %"]})})]}),Object(m.jsxs)("p",{children:["Pressure \xa0",Object(m.jsx)("span",{children:Object(m.jsxs)("strong",{children:[o.pressure," h/Pa"]})})]})]})]})]}),Object(m.jsxs)("div",{className:Ve.a["weather-article__source"],children:[Object(m.jsxs)("p",{children:["Source: ",Object(m.jsx)(i.b,{to:{pathname:"https://openweathermap.org/"},target:"_blank",children:"OpenWeatherMap"})]}),Object(m.jsx)("p",{children:"".concat(b,"h")})]})]})]})},qe=function(){var e="/news-app"===Object(o.g)().pathname;return Object(m.jsxs)(a.Fragment,{children:[e&&Object(m.jsx)(Ue,{}),e&&Object(m.jsx)(Re,{}),!e&&Object(m.jsx)(Le,{})]})},Je=n(22),We=n.n(Je),Ye=function(){return Object(m.jsx)("footer",{className:We.a.footer,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:We.a["footer-info"],children:[Object(m.jsx)("p",{children:"Copyright \xa9 Boris Perkovic"}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:We.a.github,children:Object(m.jsx)(i.b,{to:{pathname:"https://github.com/BorisPerkovic"},target:"_blank",children:Object(m.jsx)("i",{className:"fab fa-github me-3"})})}),Object(m.jsx)("span",{className:We.a.linkedin,children:Object(m.jsx)(i.b,{to:{pathname:"https://www.linkedin.com/in/perkovicboris/"},target:"_blank",children:Object(m.jsx)("i",{className:"fab fa-linkedin me-3"})})}),Object(m.jsxs)("span",{className:We.a.website,children:[Object(m.jsx)(i.b,{to:{pathname:"https://www.borisperkovic.rs/"},target:"_blank",children:Object(m.jsx)("i",{className:"fas fa-link"})})," "]})]})]})})})},He=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getNewsList",value:function(){var e=Object(P.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.getToken()){e.next=7;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 7:return e.next=9,fetch("https://borisperkovic.rs/news-app/Services/logFile.service.php?file="+t);case 9:return n=e.sent,e.next=12,n.json();case 12:return a=e.sent,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ze=new He,Xe=n(39),Ke=n.n(Xe),Qe=function(){var e=Object(a.useState)(""),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze.getNewsList(n);case 2:t=e.sent,o(t.split("<br />"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[n]),Object(m.jsxs)("article",{className:Ke.a.logs__form,children:[Object(m.jsx)("h2",{children:"Logs Files Section"}),Object(m.jsxs)("select",{name:"logs",id:"logs",onChange:function(e){s(e.target.value)},children:[Object(m.jsx)("option",{value:"0",children:"--Choose log file--"}),p.map((function(e,t){return Object(m.jsx)("option",{value:e,children:e},t)}))]}),i.length>0&&i.map((function(e,t){return Object(m.jsx)("p",{children:e},t)}))]})},Ge=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getComments",value:function(){var e=Object(P.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.getToken()){e.next=7;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 7:return e.next=9,fetch(j+"?comment=get");case 9:return t=e.sent,e.next=12,t.json();case 12:return n=e.sent,e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"allowDissallowComments",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.getToken()){e.next=7;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 7:return e.next=9,fetch(j+"?comment="+t+"&id="+n,{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({token:localStorage.getItem("token")})});case 9:return a=e.sent,e.next=12,a.json();case 12:if("Unauthorized"!==e.sent){e.next=19;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 19:return e.abrupt("return","Comment allowed");case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),$e=new Ge,et=n(33),tt=n.n(et),nt=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!0),c=Object(x.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(!0),u=Object(x.a)(l,2),j=u[0],d=u[1],p=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.getComments();case 2:t=e.sent,s(t),o(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){p()}),[j]);var b=function(){var e=Object(P.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("allow"!==t){e.next=10;break}if(window.confirm("You are about to allow this comment. Are you sure?")){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,$e.allowDissallowComments(t,n);case 7:d(!j);case 8:e.next=17;break;case 10:if(window.confirm("You are about to disallow this comment. Are you sure?")){e.next=14;break}return e.abrupt("return",!1);case 14:return e.next=16,$e.allowDissallowComments(t,n);case 16:d(!j);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)("section",{className:"main-section",children:[i&&Object(m.jsx)(B,{}),n.length>0&&n.map((function(e){return Object(m.jsx)("article",{className:tt.a["comments-aticle"],children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:[R(e.comment_created)," ",e.comment_author]}),Object(m.jsx)("p",{children:e.comment_text}),Object(m.jsxs)("p",{children:[Object(m.jsx)("button",{onClick:function(){return b("allow",e.id)},children:"ALLOW"})," | ",Object(m.jsx)("button",{onClick:function(){return b("disallow",e.id)},children:"DISSALOW"})]})]})},e.id)})),n<1&&Object(m.jsx)("div",{className:tt.a["comments-aticle"],children:Object(m.jsx)("p",{children:"No comments to allow or dissallow!"})})]})})},at=n(20),st=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"requestEditNews",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n,a){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.getToken()){e.next=7;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 7:t(!0),(s=new XMLHttpRequest).open("POST","https://borisperkovic.rs/news-app/Services/editNews.service.php",!0),s.onload=function(){"Unauthorized"===JSON.parse(this.responseText)&&(alert("Something went wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login")),t(!1),n(JSON.parse(this.responseText))},s.send(a);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),rt=new st,ct=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"getauhtorsNews",value:function(){var e=Object(P.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://borisperkovic.rs/news-app/Services/authorsNews.service.php",{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({token:localStorage.getItem("token")})});case 2:return t=e.sent,e.next=5,t.json();case 5:if("Unauthorized"!==(n=e.sent)){e.next=14;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),it=new ct,ot=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(""),u=Object(x.a)(l,2),j=u[0],p=u[1],b=Object(a.useState)(!1),h=Object(x.a)(b,2),O=h[0],f=h[1],w=Object(a.useState)({id:"",title:"",text:"",category:""}),g=Object(x.a)(w,2),v=g[0],_=g[1],k=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.getauhtorsNews();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){k()}),[]);return Object(m.jsxs)("article",{className:je.a["add-news__form"],children:[Object(m.jsx)("h2",{children:"Edit News Section"}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Notice:"})," You can edit news where you are author"]}),"There are no news!"!==n&&Object(m.jsxs)("select",{onChange:function(e){var t=e.target.value,a=n.filter((function(e){return e.id===t}));_("0"!==t?{id:a[0].id,title:a[0].news_title,text:a[0].news_text,category:a[0].news_category}:{id:"",title:"",text:"",category:"0"})},children:[Object(m.jsx)("option",{value:"0",children:"Select News By Title"}),n.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.news_title},e.id)}))]}),"There are no news!"===n&&Object(m.jsx)("p",{children:"You have no added news by yourself"}),Object(m.jsxs)("form",{encType:"multipart/form-data",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"title",children:"News Title"}),Object(m.jsx)("input",{type:"text",id:"title",value:v.title,disabled:""===v.title,onChange:function(e){_(Object(at.a)(Object(at.a)({},v),{},{title:e.target.value}))}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"newstext",children:"News Text"}),Object(m.jsx)("textarea",{type:"text",id:"newstext",value:v.text,disabled:""===v.title,onChange:function(e){_(Object(at.a)(Object(at.a)({},v),{},{text:e.target.value}))}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"category",children:"News Category"}),Object(m.jsxs)("select",{id:"inputGroupSelect02",value:v.category,disabled:""===v.title,onChange:function(e){_(Object(at.a)(Object(at.a)({},v),{},{category:e.target.value}))},children:[Object(m.jsx)("option",{value:"0",children:"Select Category"}),d.map((function(e,t){return Object(m.jsx)("option",{value:t+1,children:e},t+1)}))]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"image",children:"News Image"}),Object(m.jsx)("input",{type:"file",id:"img",name:"image",onChange:function(e){return function(e){o(e.target.files[0])}(e)}})]}),Object(m.jsxs)("div",{className:O?"":je.a["msg-error"],children:[O&&Object(m.jsx)(B,{}),Object(m.jsx)("p",{children:j})]}),Object(m.jsx)("button",{onClick:function(e){if(e.preventDefault(),p(""),""!==v.title)if(""!==i){var t=new FormData;if(t.append("id",v.id),t.append("title",v.title),t.append("text",v.text),t.append("category",v.category),t.append("image",i),t.append("token",localStorage.getItem("token")),!window.confirm("You are about to edit this news. Are you sure?"))return!1;rt.requestEditNews(f,p,t),_({title:"",text:"",category:""}),o("")}else p("Please, select image for news!");else p("Select news frist!")},children:"SUBMIT"})]})]})},lt=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,[{key:"requestRemoveNews",value:function(){var e=Object(P.a)(C.a.mark((function e(t,n,a){var s,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.getToken()){e.next=7;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 7:return t(!0),e.next=10,fetch("https://borisperkovic.rs/news-app/Services/deleteNews.service.php?id="+a,{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({token:localStorage.getItem("token")})});case 10:return s=e.sent,e.next=13,s.json();case 13:if("Unauthorized"!==(r=e.sent)){e.next=22;break}return alert("Something is wrong with your authorization. Please, log in again!"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),window.location.assign("https://borisperkovic.github.io/news-app/login"),e.abrupt("return");case 22:t(!1),n(r);case 24:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),ut=new lt,jt=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(""),u=Object(x.a)(l,2),j=u[0],d=u[1],p=Object(a.useState)(""),b=Object(x.a)(p,2),h=b[0],O=b[1],f=Object(a.useState)(""),w=Object(x.a)(f,2),g=w[0],v=w[1],_=Object(a.useState)(!1),k=Object(x.a)(_,2),N=k[0],S=k[1],y=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.getauhtorsNews();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y()}),[n]);return console.log(n),Object(m.jsxs)("article",{className:je.a["add-news__form"],children:[Object(m.jsx)("h2",{children:"Remove News Section"}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Notice:"})," You can remove news where you are author"]}),"There are no news!"!==n&&Object(m.jsxs)("select",{onChange:function(e){o("");var t=e.target.value,a=n.filter((function(e){return e.id===t}));"0"!==t?(O(a[0].image),v(a[0].news_title),d(t)):(O(""),v(""),v(""))},children:[Object(m.jsx)("option",{value:"0",children:"Select News By Title"}),n.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.news_title},e.id)}))]}),"There are no news!"===n&&Object(m.jsx)("p",{children:"You have no added news by yourself"}),Object(m.jsxs)("form",{encType:"multipart/form-data",children:[Object(m.jsx)("div",{children:""!==h?Object(m.jsx)("img",{src:h,alt:"NoLies"}):""}),Object(m.jsx)("div",{children:""!==g?Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:g})}):""}),Object(m.jsxs)("div",{className:N?"":je.a["msg-error"],children:[N&&Object(m.jsx)(B,{}),Object(m.jsx)("p",{children:i})]}),Object(m.jsx)("button",{onClick:function(e){if(e.preventDefault(),o(""),""!==g){if(!window.confirm("You are about to remove this news. Are you sure?"))return!1;ut.requestRemoveNews(S,o,j),v(""),O(""),s([])}else o("Select news frist!")},children:"SUBMIT"})]})]})};var dt=function(){return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(y,{}),Object(m.jsx)(O,{}),Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)("section",{className:"main-section",children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/news-app",component:q}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/add-news",component:be}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/registration",component:ne}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/category/:category",component:we}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/single-news/:id",component:Ce}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/edit-news",component:ot}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/remove-news",component:jt}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/comments",component:nt}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/logs",component:Qe}),Object(m.jsx)(o.a,{exact:!0,path:"/news-app/login",component:oe})]})}),Object(m.jsx)("aside",{className:"main-aside",children:Object(m.jsx)(qe,{})})]}),Object(m.jsx)(Ye,{})]})};n(52);c.a.render(Object(m.jsx)(i.a,{children:Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(dt,{})})}),document.getElementById("root"))}],[[53,1,2]]]);
//# sourceMappingURL=main.3a8748a1.chunk.js.map